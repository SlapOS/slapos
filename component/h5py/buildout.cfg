[buildout]
extends =
  ../hdf5/buildout.cfg
  ../cython/buildout.cfg
  ../numpy/buildout.cfg
parts =
  h5py

[hdf5-env]
LDFLAGS = -L${hdf5:location}/lib -Wl,-rpath=${hdf5:location}/lib
CPPFLAGS = -I${hdf5:location}/include
LD_LIBRARY_PATH=${hdf5:location}/lib
HDF5_DIR=${hdf5:location}

[h5py]
recipe = zc.recipe.egg:custom
egg = h5py
setup-eggs =
  ${cython:egg}
  ${numpy:egg}
  pkgconfig
  six
include-dirs =
  ${hdf5:location}/include
library-dirs =
  ${hdf5:location}/lib
rpath =
  ${hdf5:location}/lib
environment = hdf5-env

[h5py:python3]
h5py-patches =
  ${:_profile_base_location_}/h5py-setuptools-pyproject.toml-license-workaround.patch#7c09d2d98c7f08901e6624e972fc1646
h5py-patch-options = -p1
