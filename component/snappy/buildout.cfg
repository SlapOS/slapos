[buildout]
extends =
  ../cmake/buildout.cfg
parts =
  snappy

[snappy]
recipe = slapos.recipe.cmmi
shared = true
url = https://github.com/google/snappy/archive/refs/tags/1.2.2.tar.gz
md5sum = 30286dd6311dee1d5498c57f62eda7b8
configure-command = ${cmake:location}/bin/cmake
configure-options =
  -DCMAKE_BUILD_TYPE=Release
  -DCMAKE_INSTALL_PREFIX=@@LOCATION@@
  -DBUILD_SHARED_LIBS=ON
  -DCMAKE_INSTALL_LIBDIR=lib
  -DSNAPPY_BUILD_TESTS=OFF
  -DSNAPPY_BUILD_BENCHMARKS=OFF
