[buildout]
extends =
  ../gnu-config/buildout.cfg
  ../ncurses/buildout.cfg
  ../patch/buildout.cfg

parts =
  readline

[readline]
recipe = slapos.recipe.cmmi
shared = true
url = https://ftp.gnu.org/gnu/readline/readline-8.2.13.tar.gz
md5sum = 05080bf3801e6874bb115cd6700b708f
patches =
  ${:_profile_base_location_}/configure-ncurses.diff#db8187a92f19e0e9d2fe595ca7a0426f
configure-options =
  --enable-multibyte
  --disable-static
environment =
  CPPFLAGS=-I${ncurses:location}/include
  LDFLAGS=-L${ncurses:location}/lib -Wl,-rpath=${ncurses:location}/lib
patch-binary = ${patch:location}/bin/patch
