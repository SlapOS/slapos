[buildout]
extends =
  ../ncurses/buildout.cfg
  ../patch/buildout.cfg

parts =
  readline5
  readline

# readline-5.x is still used for GPL2 only softwares.
[readline5]
recipe = slapos.recipe.cmmi
shared = true
url = http://ftp.gnu.org/gnu/readline/readline-5.2.tar.gz
patches =
  http://ftp.gnu.org/gnu/readline/readline-5.2-patches/readline52-001#9d4d41622aa9b230c57f68548ce87d8f
  http://ftp.gnu.org/gnu/readline/readline-5.2-patches/readline52-002#f03e512d14206e37f7d6a748b56b9476
  http://ftp.gnu.org/gnu/readline/readline-5.2-patches/readline52-003#252b42d8750f1a94b6bdf086612dceb2
  http://ftp.gnu.org/gnu/readline/readline-5.2-patches/readline52-004#a32333c2e603a3ed250514e91050e552
  http://ftp.gnu.org/gnu/readline/readline-5.2-patches/readline52-005#8106796c09b789523a3a78ab69c04b6d
  http://ftp.gnu.org/gnu/readline/readline-5.2-patches/readline52-006#512188e2bf0837f7eca19dbf71f182ae
  http://ftp.gnu.org/gnu/readline/readline-5.2-patches/readline52-007#ac17aca62eb6fb398c9f2fe9de540aff
  http://ftp.gnu.org/gnu/readline/readline-5.2-patches/readline52-008#2484c392db021905f112cf97a94dfd4c
  http://ftp.gnu.org/gnu/readline/readline-5.2-patches/readline52-009#fc6eb35d07914fae5c57d49c12483ff7
  http://ftp.gnu.org/gnu/readline/readline-5.2-patches/readline52-010#7a2bf3dc7ac7680b1461a5701100e91b
  http://ftp.gnu.org/gnu/readline/readline-5.2-patches/readline52-011#ef6cef6822663470f6ac8c517c5a7ec6
  http://ftp.gnu.org/gnu/readline/readline-5.2-patches/readline52-012#e3e9f441c8111589855bc363e5640f6c
  http://ftp.gnu.org/gnu/readline/readline-5.2-patches/readline52-013#3e2e5f543ed268a68fd1fa839faade1a
  http://ftp.gnu.org/gnu/readline/readline-5.2-patches/readline52-014#a1be30e1c6f1099bb5fcef00a2631fb8
md5sum = e39331f32ad14009b9ff49cc10c5e751
configure-options =
  --enable-multibyte
  --disable-static
environment =
  PATH=${patch:location}/bin:%(PATH)s

[readline]
recipe = slapos.recipe.cmmi
shared = true
url = http://ftp.gnu.org/gnu/readline/readline-6.3.tar.gz
md5sum = 33c8fb279e981274f485fd91da77e94a
patches =
  http://ftp.gnu.org/gnu/readline/readline-6.3-patches/readline63-001#4343f5ea9b0f42447f102fb61576b398
  http://ftp.gnu.org/gnu/readline/readline-6.3-patches/readline63-002#700295212f7e2978577feaee584afddb
  http://ftp.gnu.org/gnu/readline/readline-6.3-patches/readline63-003#af4963862f5156fbf9111c2c6fa86ed7
  http://ftp.gnu.org/gnu/readline/readline-6.3-patches/readline63-004#11f9def89803a5052db3ba72394ce14f
  http://ftp.gnu.org/gnu/readline/readline-6.3-patches/readline63-005#93721c31cd225393f80cb3aadb165544
  http://ftp.gnu.org/gnu/readline/readline-6.3-patches/readline63-006#71dc6ecce66d1489b96595f55d142a52
  http://ftp.gnu.org/gnu/readline/readline-6.3-patches/readline63-007#062a08ed60679d3c4878710b3d595b65
  http://ftp.gnu.org/gnu/readline/readline-6.3-patches/readline63-008#ee1c04072154826870848d8b218d7b04
  ${:_profile_base_location_}/configure-ncurses.diff#c2bf0d0cb0ccd3d3c078ba124fffb7d2
configure-options =
  --enable-multibyte
  --disable-static
environment =
  CPPFLAGS=-I${ncurses:location}/include/ncurses
  LDFLAGS=-L${ncurses:location}/lib -Wl,-rpath=${ncurses:location}/lib
  PATH=${patch:location}/bin:%(PATH)s
