[buildout]
# Note: here are just part of gdb dependencies. For the dependencies which 
# debian used to build gdb, please refer:
# ftp://ftp.fr.debian.org/debian/pool/main/g/gdb/gdb_7.11.1-2.dsc
extends = 
  ../bzip2/buildout.cfg
  ../autoconf/buildout.cfg
  ../libtool/buildout.cfg
  ../gettext/buildout.cfg
  ../bison/buildout.cfg
  ../flex/buildout.cfg
  ../libexpat/buildout.cfg
  ../ncurses/buildout.cfg
  ../readline/buildout.cfg
  ../zlib/buildout.cfg
  ../xz-utils/buildout.cfg
  ../gmp/buildout.cfg
  ../mpfr/buildout.cfg
  ../mpc/buildout.cfg
  ../python-2.7/buildout.cfg

parts =
  gdb

[isl]
recipe = slapos.recipe.cmmi
url = ftp://gcc.gnu.org/pub/gcc/infrastructure/isl-0.15.tar.bz2
md5sum = 8428efbbc6f6e2810ce5c1ba73ecf98c
configure-options =
  --with-gmp-prefix=${gmp:location}
  --disable-static
environment =
  LDFLAGS=-Wl,-rpath=${gmp:location}/lib
  
[gdb]
recipe = slapos.recipe.cmmi
url = ftp://ftp.gnu.org/gnu/gdb/gdb-7.11.1.tar.xz
md5sum = 5aa71522e488e358243917967db87476
configure-options =
  --with-python=${python2.7:location}/bin/python2.7
environment = 
  PATH = ${libtool:location}/bin:${xz-utils:location}/bin:%(PATH)s
  CPPFLAGS = -I${python2.7:location}/include/python2.7 -I${bzip2:location}/include -I${gmp:location}/include -I${mpc:location}/include -I${mpfr:location}/include -I${isl:location}/include -I{zlib:location}/include -I${readline:location}/include -I${libexpat:location}/include -I${libffi:location}/include -I${ncurses:location}/include -I${ncurses:location}/include/ncursesw -I${bzip2:location}/include -I${gettext:location}/include
  LDFLAGS = -L${python2.7:location}/lib -L${bzip2:location}/lib -L${gettext:location}/lib -L${gmp:location}/lib -L${mpfr:location}/lib -L${isl:location}/lib -L${mpc:location}/lib -L${zlib:location}/lib -L${readline:location}/lib -L${libexpat:location}/lib -L${libffi:location}/lib -L${ncurses:location}/lib
  LD_LIBRARY_PATH=${ncurses:location}/lib:$LD_LIBRARY_PATH
  