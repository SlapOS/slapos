[buildout]
parts =
  rustc

extends =
    ../cmake/buildout.cfg
    ../curl/buildout.cfg
    ../git/buildout.cfg
    ../openssl/buildout.cfg
    ../pkgconfig/buildout.cfg


[rustc]
recipe = slapos.recipe.cmmi
shared = true
url = https://static.rust-lang.org/dist/rustc-1.45.2-src.tar.gz
md5sum = 1c67d7c3f211e49e12e7c20abab08e70
# --sysconfdir is a workaround for https://github.com/rust-lang/rust/issues/63915
configure-options = --enable-extended --sysconfdir=@@LOCATION@@/etc/
environment = 
    PATH=${cmake:location}/bin/:${curl:location}/bin/:${git:location}/bin/:${pkgconfig:location}/bin/:%(PATH)s
    PKG_CONFIG_PATH=${openssl:location}/lib/pkgconfig:
