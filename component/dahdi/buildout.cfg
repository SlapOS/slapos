# DAHDI (Digium/Asterisk Hardware Device Interface) is the open source device
# interface technology used to control Digium and other legacy telephony
# interface cards.
# http://www.asterisk.org/downloads/dahdi

[buildout]
parts = dahdi
extends =
  ../pkgconfig/buildout.cfg
  ../ncurses/buildout.cfg
  ../zlib/buildout.cfg
  ../libcap/buildout.cfg
  ../openssl/buildout.cfg
  ../ffmpeg/buildout.cfg
#   ../autoconf/buildout.cfg
#   ../automake/buildout.cfg

[dahdi]
recipe = slapos.recipe.cmmi
# url = http://downloads.asterisk.org/pub/telephony/dahdi-linux-complete/dahdi-linux-complete-2.6.3-rc1+2.6.3-rc1.tar.gz
url = /tmp/dahdi-linux-complete-2.6.3-rc1+2.6.3-rc1.tar.gz
md5sum = a55e18cb13f4f81206a20f091b8c173e
environment =
  PATH=${pkgconfig:location}/bin:${libcap:location}/sbin:${ffmpeg:location}/bin:%(PATH)s
  PKG_CONFIG_PATH=${zlib:location}/lib/pkgconfig:${openssl:location}/lib/pkgconfig:${libvorbis:location}/lib/pkgconfig:${ffmpeg:location}/lib/pkgconfig
  CPPFLAGS=-I${zlib:location}/include -I${ncurses:location}/include -I${openssl:location}/include -I${libcap:location}/usr/include -I${libvorbis:location}/include -I${ffmpeg:location}/include
  LDFLAGS=-L${zlib:location}/lib -Wl,-rpath=${zlib:location}/lib -L${ncurses:location}/lib -Wl,-rpath=${ncurses:location}/lib -L${libcap:location}/lib/ -Wl,-rpath=${libcap:location}/lib/ -L${openssl:location}/lib -Wl,-rpath=${openssl:location}/lib -L${libvorbis:location}/lib -Wl,-rpath=${libvorbis:location}/lib -L${ffmpeg:location}/lib -Wl,-rpath=${ffmpeg:location}/lib
configure-options =
  --disable-xmldoc
  --without-asound
  --without-bfd
  --without-execinfo
  --without-bluetooth
  --with-cap=${libcap:location}
  --without-cpg
  --with-curses=${ncurses:location}
  --with-crypto=${openssl:location}
#   --with-dahdi=PATH       use DAHDI files in PATH
  --with-avcodec=${ffmpeg:location}
  # --without-avcodec
  --without-gsm
  --without-ilbc
  --disable-gtk2
#   --with-gmime=PATH       use GMime files in PATH
#   --with-h323=PATH        use OpenH323 files in PATH
#   --with-hoard=PATH       use Hoard Memory Allocator files in PATH
#   --with-ical=PATH        use iCal files in PATH
#   --with-iconv=PATH       use Iconv files in PATH
#   --with-iksemel=PATH     use Iksemel Jabber files in PATH
#   --with-imap=PATH        use UW IMAP Toolkit files in PATH
#   --with-inotify=PATH     use inotify support files in PATH
#   --with-iodbc=PATH       use iODBC files in PATH
#   --with-isdnnet=PATH     use ISDN4Linux files in PATH
#   --with-jack=PATH        use Jack Audio Connection Kit files in PATH
#   --with-kqueue=PATH      use kqueue support files in PATH
#   --with-ldap=PATH        use OpenLDAP files in PATH
#   --with-libcurl=DIR      look for the curl library in DIR
  --without-libedit
  --without-libxml2
#   --with-ltdl=PATH        use libtool files in PATH
#   --with-lua=PATH         use Lua files in PATH
#   --with-misdn=PATH       use mISDN user files in PATH
#   --with-mysqlclient=PATH use MySQL client files in PATH
#   --with-nbs=PATH         use Network Broadcast Sound files in PATH
  --with-ncurses=${ncurses:location}
#   --with-neon=PATH        use neon files in PATH
#   --with-neon29=PATH      use neon29 files in PATH
#   --with-netsnmp=PATH     use Net-SNMP files in PATH
#   --with-newt=PATH        use newt files in PATH
#   --with-ogg=PATH         use OGG files in PATH
#   --with-openr2=PATH      use MFR2 files in PATH
#   --with-osptk=PATH       use OSP Toolkit files in PATH
#   --with-oss=PATH         use Open Sound System files in PATH
#   --with-postgres=PATH    use PostgreSQL files in PATH
#   --with-popt=PATH        use popt files in PATH
#   --with-portaudio=PATH   use PortAudio files in PATH
#   --with-pri=PATH         use ISDN PRI files in PATH
#   --with-pwlib=PATH       use PWlib files in PATH
#   --with-radius=PATH      use Radius Client files in PATH
#   --with-resample=PATH    use LIBRESAMPLE files in PATH
#   --with-sdl=PATH         use Sdl files in PATH
#   --with-SDL_image=PATH   use Sdl Image files in PATH
#   --with-sounds-cache=PATH
#                           use cached sound tarfiles in PATH
#   --with-spandsp=PATH     use SPANDSP files in PATH
#   --with-ss7=PATH         use ISDN SS7 files in PATH
#   --with-speex=PATH       use Speex files in PATH
#   --with-speex=PATH       use Speex preprocess routines files in PATH
#   --with-speexdsp=PATH    use SpeexDSP files in PATH
#   --with-sqlite=PATH      use SQLite files in PATH
#   --with-sqlite3=PATH     use SQLite files in PATH
#   --with-srtp=PATH        use Secure RTP files in PATH
#   --with-ssl=PATH         use OpenSSL Secure Sockets Layer files in PATH
#   --with-suppserv=PATH    use mISDN Supplemental Services files in PATH
#   --with-tds=PATH         use FreeTDS files in PATH
#   --with-termcap=PATH     use Termcap files in PATH
#   --with-timerfd=PATH     use timerfd files in PATH
#   --with-tinfo=PATH       use Term Info files in PATH
#   --with-tonezone=PATH    use tonezone files in PATH
#   --with-unixodbc=PATH    use unixODBC files in PATH
  --with-vorbis=${libvorbis:location}
#   --with-vpb=PATH         use Voicetronix API files in PATH
  --without-x11
  --with-z=${zlib:location}
