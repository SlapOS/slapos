[buildout]
extends =
  ../openblas/buildout.cfg
  ../pyston/buildout.cfg
  ../subversion/buildout.cfg

parts +=
  pyston-deps
  pyston-download
  pyston-setup
  pyston-configure
  pyston-make
  numpy-pyston
  openblas
  subversion

[numpy-env]
PATH = ${pyston-make:path}:${gcc-fortran-4.8:location}/bin:%(PATH)s
LD_LIBRARY_PATH=${gcc-4.8:location}/lib64:${gcc-fortran-4.8:location}/lib64:${libffi:location}/lib:$LD_LIBRARY_PATH
OPENBLAS = ${openblas:location}/lib/libopenblas.so
LAPACK = ${openblas:location}/lib/libopenblas.so
ATLAS = ${openblas:location}/lib/libopenblas.so

[numpy-pyston]
recipe = plone.recipe.command
pyston-binary = ${pyston-make:path}/pyston
command = (echo ${pyston-make:path} && ls)
update-command = command
environment = numpy-env
#recipe = zc.recipe.egg:custom
#egg = numpy