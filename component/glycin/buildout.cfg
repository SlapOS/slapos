[buildout]
extends =
  ../fontconfig/buildout.cfg
  ../glib/buildout.cfg
  ../libjxl/buildout.cfg
  ../libheif/buildout.cfg
  ../rust/buildout.cfg
  ../seccomp/buildout.cfg

[glycin]
recipe = slapos.recipe.cmmi
shared = true
url = https://download.gnome.org/sources/glycin/2.0/glycin-2.0.7.tar.xz
md5sum = 14ea548305203fc0ab09d7a39ba303ec
configure-command = meson setup builddir --wrap-mode=nodownload --libdir=lib -Dprefix=@@LOCATION@@ -Dglycin-loaders=false
make-binary = ninja -C builddir
pkg_config_depends = ${libseccomp:location}/lib/pkgconfig:${libheif:location}/lib/pkgconfig:${libjxl:location}/lib/pkgconfig:${libjxl:pkg_config_depends}:${fontconfig:location}/lib/pkgconfig:${fontconfig:pkg_config_depends}:${glib:pkg_config_depends}:${glib:location}/lib/pkgconfig
#:${librsvg:location}/lib/pkgconfig:${librsvg:pkg_config_depends}
environment =
  PATH=${meson:location}/bin:${rustc:location}/bin:${ninja:location}/bin:${pkgconfig:location}/bin:${xz-utils:location}/bin:%(PATH)s
  PKG_CONFIG_PATH=${:pkg_config_depends}
  LDFLAGS=-Wl,-rpath=${libseccomp:location}/lib -Wl,-rpath=${libheif:location}/lib -Wl,-rpath=${libjxl:location}/lib
#  -Wl,-rpath=${librsvg:location}/lib 
