# LuaJIT is a Just-In-Time Compiler (JIT) for the Lua programming language.
# https://luajit.org/luajit.html

[buildout]
parts = luajit

[luajit-clone]
recipe = slapos.recipe.build:gitclone
repository = https://luajit.org/git/luajit.git
use-cache = True
revision = 69bbf3c1b01de8239444b0c430a89fa868978fea

[luajit]
recipe = slapos.recipe.cmmi
shared = true
path = ${luajit-clone:location}
configure-command = true
# pass dummy LDCONFIG to skip needless calling of ldconfig by non-root user
make-options =
  DPREFIX=@@LOCATION@@
  LDCONFIG=/bin/echo
