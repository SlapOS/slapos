[buildout]
extends =
  ../ncurses/buildout.cfg
  ../openssl/buildout.cfg
  ../patch/buildout.cfg

parts =
  cmake

[cmake]
recipe = slapos.recipe.cmmi
shared = true
url = https://cmake.org/files/v3.23/cmake-3.23.2.tar.gz
md5sum = ab3c9ed9578cdb496a252c6733989d78
environment =
  CMAKE_INCLUDE_PATH=${ncurses:location}/include:${openssl:location}/include
  CMAKE_LIBRARY_PATH=${ncurses:location}/lib:${openssl:location}/lib
patch-binary = ${patch:location}/bin/patch
patch-options = -p1
patches =
  ${:_profile_base_location_}/cmake-libarchive-multiple-definition-fsconfig_command.patch#cb281d372ac0d90ccd5b3c8cb50cc734
