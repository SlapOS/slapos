diff -ur zlib-1.2.11.orig/gzguts.h zlib-1.2.11/gzguts.h
--- zlib-1.2.11.orig/gzguts.h	2017-01-16 00:29:40.000000000 +0700
+++ zlib-1.2.11/gzguts.h	2017-10-17 23:17:52.969130100 +0700
@@ -39,7 +39,7 @@
 #  include <io.h>
 #endif
 
-#if defined(_WIN32) || defined(__CYGWIN__)
+#if defined(_WIN32)
 #  define WIDECHAR
 #endif
 
Only in zlib-1.2.11/win32: zlib.def.orig
Only in zlib-1.2.11/win32: zlib.def.rej
diff -ur zlib-1.2.11.orig/zlib.h zlib-1.2.11/zlib.h
--- zlib-1.2.11.orig/zlib.h	2017-01-16 00:29:40.000000000 +0700
+++ zlib-1.2.11/zlib.h	2017-10-17 23:17:52.976942600 +0700
@@ -1893,7 +1893,7 @@
 ZEXTERN unsigned long  ZEXPORT inflateCodesUsed OF ((z_streamp));
 ZEXTERN int            ZEXPORT inflateResetKeep OF((z_streamp));
 ZEXTERN int            ZEXPORT deflateResetKeep OF((z_streamp));
-#if (defined(_WIN32) || defined(__CYGWIN__)) && !defined(Z_SOLO)
+#if defined(_WIN32) && !defined(Z_SOLO)
 ZEXTERN gzFile         ZEXPORT gzopen_w OF((const wchar_t *path,
                                             const char *mode));
 #endif
