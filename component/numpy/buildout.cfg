[buildout]
extends =
  ../cython/buildout.cfg
  ../meson/buildout.cfg
  ../ninja/buildout.cfg
  ../macros/macro.pythonpath.eggs.cfg
parts =
  meson
  cython
  ninja
  numpy

[cython]
recipe = zc.recipe.egg
eggs = cython
scripts = cython cythonize

# Python 3.12 needs it
[setuptools]
recipe = zc.recipe.egg
eggs = setuptools
version = 68.0.0

[numpy-env]
BLAS=None
LAPACK=None
ATLAS=None
PATH=${ninja:location}/bin:${buildout:bin-directory}:${buildout:parts-directory}/setuptools:%(PATH)s
# PYTHONPATH=${buildout:eggs-directory}/setuptools

[numpy]
recipe = zc.recipe.egg:custom
egg = numpy
environment = numpy-env
depends = ${numpy-pythonpath:recipe}
pre-install =
  export MESON_EXE=${meson:location}/bin/meson

[numpy-pythonpath]
<= macro.pythonpath.eggs
environment = numpy-env
eggs =
  ${cython:egg}
  setuptools
  packaging
  pyproject_metadata

[versions]
cython = 3.0.11
numpy = 1.26.0
packaging = 23.2
pyproject_metadata = 0.9.0
setuptools = 67.8.0

[numpy:sys.version_info < (3,8)]
depends =

[versions:sys.version_info < (3,8)]
numpy = 1.16.5
