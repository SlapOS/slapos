[buildout]
parts =
  boost-lib
extends =
  ../bzip2/buildout.cfg
  ../gcc/buildout.cfg
  ../zlib/buildout.cfg

[boost-lib]
recipe = slapos.recipe.cmmi
shared = true
url = http://downloads.sourceforge.net/sourceforge/boost/boost_1_67_0.tar.bz2
md5sum = ced776cb19428ab8488774e1415535ab
location = @@LOCATION@@
configure-command = ./bootstrap.sh --prefix=${:location} --with-python=${python2.7:location}/bin/python2.7
make-binary = ./b2
# XXX: we assume that $MAKEFLAGS is only used for -j
make-options = $MAKEFLAGS link=shared dll-path=${:location}/lib:${bzip2:location}/lib:${gcc:location}/lib:${gcc:location}/lib64:${zlib:location}/lib
environment =
  PATH=${gcc:location}/bin:%(PATH)s
  BZIP2_INCLUDE=${bzip2:location}/include
  BZIP2_LIBPATH=${bzip2:location}/lib
  ZLIB_INCLUDE=${zlib:location}/include
  ZLIB_LIBPATH=${zlib:location}/lib
