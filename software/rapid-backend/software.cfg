[buildout]
extends =
  buildout.hash.cfg
  ../../stack/slapos.cfg
  ../../stack/monitor/buildout.cfg

parts +=
  template

[python3]
<= python3.10

[rapid-backend-eggs]
recipe = zc.recipe.egg
eggs =
  ${python-cffi:egg}
  httpbin
  flask
  gevent
  gunicorn

[template]
recipe = slapos.recipe.template:jinja2
url = ${:_profile_base_location_}/instance.cfg.in
output = ${buildout:directory}/template.cfg
depends = ${rapid-backend-eggs:eggs}
gunicorn = ${buildout:bin-directory}/gunicorn
context =
  key gunicorn :gunicorn
  key develop_eggs_directory buildout:develop-eggs-directory
  key eggs_directory buildout:eggs-directory
  key profile_logrotate_base template-logrotate-base:output
  key profile_monitor monitor-template:output

[versions]
httpbin = 0.10.2

brotlipy = 0.7.0
#cffi = 1.11.5
#click = 6.7
decorator = 4.3.0
flasgger = 0.9.0
#flask = 1.0.2
gevent = 1.3.4
greenlet = 0.4.13
gunicorn = 19.9.0
#itsdangerous = 0.24
#jinja2 = 2.10
#jsonschema = 2.6.0
#markupsafe = 1.0
meinheld = 0.6.1
mistune = 0.8.3
pycparser = 2.18
six = 1.11.0
#werkzeug = 0.14.1
#blinker = 1.9.0:whl
