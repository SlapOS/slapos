[buildout]
extends =
  ../../component/xz-utils/buildout.cfg
  ../../component/postfix/buildout.cfg
  ../../component/dovecot/buildout.cfg
  ../../stack/monitor/buildout.cfg
  ../../stack/slapos.cfg
  buildout.hash.cfg

parts =
  slapos-cookbook
  template
  dovecot

[template]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/${:filename}
output = ${buildout:directory}/template.cfg

[template-postfix]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/${:filename}
output = ${buildout:directory}/instance-postfix.cfg.jinja2

[template-default]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/${:filename}
output = ${buildout:directory}/instance-default.cfg

[download-base]
recipe = slapos.recipe.build:download
url = ${:_profile_base_location_}/${:filename}

[template-postfix-master-cf]
< = download-base

[template-postfix-main-cf]
< = download-base

[template-postfix-aliases]
< = download-base

[dovecot.jinja2.conf]
< = download-base
