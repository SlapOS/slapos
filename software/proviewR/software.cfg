[buildout]

extends =
  ../../stack/slapos.cfg
  ../../component/proviewR/buildout.cfg
  ../../component/open62541/buildout.cfg
  ../../component/noVNC/buildout.cfg
  ../../stack/monitor/buildout.cfg
  ../../stack/slapos.cfg

parts +=
  slapos-cookbook
  open62541
  pwr
  x11vnc
  xorg-font-adobe-75dpi
  xorg-font-adobe-100dpi
  xorg-font-type1
  template

[eggs]
recipe = zc.recipe.egg
interpreter = python.eggs
eggs =
  websockify
  slapos.toolbox
  plone.recipe.command

[template]
recipe = slapos.recipe.template 
url = ${:_profile_base_location_}/instance.cfg
output = ${buildout:directory}/template.cfg
mode = 0644
md5sum = a27a900ce349068a15a42255f81ba0f0

[download-base]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/${:filename}
mode = 0644

[template-kvm-cluster]
<= download-base
on-update = true
md5sum = db9b805eeeb2f89abca375c1425812b7
filename = instance-proview-r.cfg.jinja2.in