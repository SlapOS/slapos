[buildout]

extends =
  ../../stack/slapos.cfg
  ../../component/python3/buildout.cfg
  ../../component/python-2.7/buildout.cfg
  ../../component/pycurl/buildout.cfg
  ../../component/proviewR/buildout.cfg
  ../../component/open62541/buildout.cfg
  ../../component/noVNC/buildout.cfg
  ../../component/shellinabox/buildout.cfg
  ../../component/nginx/buildout.cfg
  ../../component/shellinabox/buildout.cfg
  ../../stack/monitor/buildout.cfg
  ../../stack/slapos.cfg
  ../../component/fonts/buildout.cfg

parts =
  pycurl
  pwr-testnode-debug
  slapos-cookbook
  eggs
  open62541
  pwr
  x11vnc
  xorg-font-adobe-75dpi
  xorg-font-adobe-100dpi
  xorg-font-type1
  template
  liberation-fonts
  ipaex-fonts
  ipa-fonts
  ocrb-fonts
  android-fonts
  dejavu-fonts

python = python2.7

allow-picked-versions = true

[pwr-testnode-debug]
recipe = plone.recipe.command
command = bash -c 'echo i am updating from git'

[eggs]

recipe = zc.recipe.egg
interpreter = python.eggs
eggs =
  slapos.toolbox
  websockify
  plone.recipe.command
scripts = websockify
depends = ${pycurl:egg}  # so that we always use pycurl from profile

[template]
recipe = slapos.recipe.template 
url = ${:_profile_base_location_}/instance.cfg
output = ${buildout:directory}/template.cfg
mode = 0644
md5sum = 66ce630a6cdb37854a3ef6e0af8a8870

[download-base]
recipe = hexagonit.recipe.download
url = ${:_profile_base_location_}/${:filename}
download-only = true
mode = 0644

[template-proview-r]
<= download-base
md5sum = 36efbef0cf77449b35db085c4bed55ec
filename = instance-proview-r.cfg.jinja2.in

[template-pwrp-profile]
<= download-base
md5sum = 2318cb7175e025ce0409bb182a09f525
filename = pwrp_profile.in

[template-pwrrt]
<= download-base
md5sum = b68d8efa0a5ae756da237d7ba5b02c41
filename = pwrrt.in

[template-nginx-conf]
<= download-base
md5sum = 781977b1fa984d2529b1e1356ef0bb72
filename = nginx_conf.in

[test-volume]
<= download-base
md5sum = aa3baf3bd398c83825066fec4913a227
filename = pwrp_pkg_getstart_0001.tgz


[versions]
numpy = 1.16.4
