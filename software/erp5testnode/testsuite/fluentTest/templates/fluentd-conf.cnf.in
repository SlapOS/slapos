<source>
  @type forward
  port 5438
</source>

## output tag=sensor.** to Wendelin
<match tag_*>
  @type wendelin
  streamtool_uri http://{{local_ip}}:4443
  buffer_type       memory
  buffer_chunk_limit 1MB
  flush_interval    1s
  num_threads 1
  use_keep_alive  true
</match>

<match diff_*>
  @type wendelin
  streamtool_uri http://{{local_ip}}:4443/different_uri/
  buffer_type       memory
  buffer_chunk_limit 1MB
  flush_interval    1s
  num_threads 1
  use_keep_alive  true
</match>



# ---- monitoring & debugging ----


# Listen HTTP for monitoring
# http://localhost:24220/api/plugins
# http://localhost:24220/api/plugins?type=TYPE
# http://localhost:24220/api/plugins?tag=MYTAG
<source>
  @type monitor_agent
  @id monitor_agent_input

  port 5440
</source>

# Listen DRb for debug
<source>
  @type debug_agent
  @id debug_agent_input

  bind {{local_ip}}
  port 5443
</source>

<match debug.**>
  @type stdout
  @id stdout_output
</match>
