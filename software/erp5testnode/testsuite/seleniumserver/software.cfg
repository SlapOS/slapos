[buildout]

extends =
  ../../../../component/git/buildout.cfg
  ../../../../component/pillow/buildout.cfg
  ../../../../component/python-pynacl/buildout.cfg
  ../../../../component/bcrypt/buildout.cfg
  ../../../../stack/slapos.cfg
  ./buildout.hash.cfg

parts =
  slapos-cookbook
  eggs
  template

[setup-develop-egg]
recipe = zc.recipe.egg:develop

[slapos.test.seleniumserver-setup]
<= setup-develop-egg
egg = slapos.test.seleniumserver
setup = ${slapos-repository:location}/software/seleniumserver/test/

[eggs]
recipe = zc.recipe.egg
eggs =
  ${pillow-python:egg}
  ${python-pynacl:egg}
  ${bcrypt:egg}
  ${slapos.test.seleniumserver-setup:egg}
  slapos.core
entry-points =
  runTestSuite=erp5.util.testsuite:runTestSuite
scripts =
  runTestSuite
  slapos
interpreter=
  python_for_test

[git-clone-repository]
recipe = slapos.recipe.build:gitclone
git-executable = ${git:location}/bin/git
forbid-download-cache = true
branch = master

[slapos-repository]
<= git-clone-repository
repository = https://lab.nexedi.com/nexedi/slapos.git

[template]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/${:filename}
output = ${buildout:directory}/template.cfg
mode = 640

[versions]
erp5.util = 0.4.56
slapos.recipe.template = 4.3

image = 1.5.25
Pillow = 5.3.0
selenium = 3.14.1
urllib3 = 1.23
# Django 1.11 is python 2 compatible
Django = 1.11
paramiko = 2.4.2
pyasn1 = 0.4.2
PyNaCl = 1.3.0
bcrypt = 3.1.4