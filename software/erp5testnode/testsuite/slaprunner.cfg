[buildout]
extends = 
  ../../../stack/erp5/ztk-versions.cfg
  ../../../stack/erp5/zope-versions.cfg
  ../../../stack/erp5/buildout.hash.cfg
  ../../../component/fonts/buildout.cfg
  ../../../component/git/buildout.cfg
  ../../../component/graphviz/buildout.cfg
  ../../../component/gzip/buildout.cfg
  ../../../component/xz-utils/buildout.cfg
  ../../../component/haproxy/buildout.cfg
  ../../../component/socat/buildout.cfg
  ../../../component/rsyslogd/buildout.cfg
  ../../../component/findutils/buildout.cfg
  ../../../component/librsvg/buildout.cfg
  ../../../component/imagemagick/buildout.cfg
  ../../../component/jpegoptim/buildout.cfg
  ../../../component/kumo/buildout.cfg
  ../../../component/libdmtx/buildout.cfg
  ../../../component/matplotlib/buildout.cfg
  ../../../component/numpy/buildout.cfg
  ../../../component/statsmodels/buildout.cfg
  ../../../component/h5py/buildout.cfg
  ../../../component/ocropy/buildout.cfg
  ../../../component/optipng/buildout.cfg
  ../../../component/pandas/buildout.cfg
  ../../../component/percona-toolkit/buildout.cfg
  ../../../component/patch/buildout.cfg
  ../../../component/pillow/buildout.cfg
  ../../../component/pycrypto-python/buildout.cfg
  ../../../component/pysvn-python/buildout.cfg
  ../../../component/python-ldap-python/buildout.cfg
  ../../../component/rdiff-backup/buildout.cfg
  ../../../component/scikit-learn/buildout.cfg
  ../../../component/scikit-image/buildout.cfg
  ../../../component/PyWavelets/buildout.cfg
  ../../../component/subversion/buildout.cfg
  ../../../component/tesseract/buildout.cfg
  ../../../component/w3m/buildout.cfg
  ../../../component/poppler/buildout.cfg
  ../../../component/zabbix/buildout.cfg
  ../../../component/sed/buildout.cfg
  ../../../component/coreutils/buildout.cfg
  ../../../component/grep/buildout.cfg
  ../../../component/dash/buildout.cfg
  ../../../component/bash/buildout.cfg
  ../../../component/wget/buildout.cfg
  ../../../component/aspell/buildout.cfg
  ../../../component/jsl/buildout.cfg
  ../../../component/6tunnel/buildout.cfg
  ../../../component/userhosts/buildout.cfg
  ../../../component/postfix/buildout.cfg
  ../../../component/zbarlight/buildout.cfg
  ../../../component/pylint/buildout.cfg
  ../../../component/perl-Image-ExifTool/buildout.cfg
  ../../../component/wendelin.core/buildout.cfg
  ../../../component/jupyter-py2/buildout.cfg
  ../../slaprunner/development.cfg
  testsuite.cfg

parts += template-erp5testnode

[template-resilient-test]
filename = instance-resilient-test.cfg.jinja2 
md5sum = 495bf2dacb3de66607a87a23d3765fa2

# We have to use an extra level of indentation here because this is substituted
# during software buildout to generate instance buildout, but the
# slapos.recipe.template recipe doing the substitution does string replacements
# without knowledge of the buildout syntax, so we want the second line to be
# indented in the final generated instance buildout.
extra-context =
    raw slapos_repository_url ${slapos.cookbook-repository:repository}
        raw slapos_repository_branch ${slapos.cookbook-repository:branch}

[exporter-default-configuration]
# Define shorter interaction to speed up tests
backup_wait_time = 1
