[buildout]
extends =
  ../../component/dash/buildout.cfg
  ../../component/grep/buildout.cfg
  ../../component/findutils/buildout.cfg
  ../../component/java/buildout.cfg
  ../../component/tomcat/buildout.cfg
  ../../component/vnu/buildout.cfg
  ../../stack/slapos.cfg

parts =
  slapos-cookbook
  template

##########################################################
# Service startup scripts and configuration files
##########################################################
[template-tomcat-configuration]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/server.xml.in
md5sum = 8b1db3f4107033985df25bd4730571d3
output = ${buildout:directory}/server.xml.in
mode = 0644

[template-tomcat-service]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/template-tomcat-service.sh.in
md5sum = ac921bff4b6ed9bc649d72aabfced88b
output = ${buildout:directory}/template-tomcat-service.sh.in
mode = 0644

##########################################################
# Buildout instance.cfg templates
##########################################################
[template-validator]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/instance-validator.cfg.in
md5sum = ffd825a0fb1c9f94e647dcefbf9de4ba
output = ${buildout:directory}/template-validator.cfg
mode = 0644

[template]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/instance.cfg.in
md5sum = 2b4d33e9ef1082dd4d6a53f55b391772
output = ${buildout:directory}/template.cfg
mode = 0644

[versions]
# 1.3.4nxd2 is invalid version string, thus pached version string is not '1.3.4nxd2+SlapOSPatched001'
# but '1.3.4nxd2-SlapOSPatched001'.
gunicorn = 19.1.1
plone.recipe.command = 1.1
slapos.recipe.template = 2.4.2
inotifyx = 0.2.2
