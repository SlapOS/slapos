{
  log_options: "all.level=none",
  log_filename: "{{ log_file }}",
  rf_driver: {
      name: "dummy",
  },
  tx_gain: 0,
  rx_gain: 0,
  amf_list: [
    {
      amf_addr: "127.0.1.100",
    },
  ],
  gtp_addr: "127.0.1.1",
  gnb_id_bits: 28,
  gnb_id: 0x12345,
  en_dc_support: true,
  cell_list: [],
  nr_cell_list: [
{%- for cell_ref, icell in icell_dict|dictsort  %}
{%-   set cell = icell['_'] %}
      {
        rf_port:      0,
        n_antenna_dl: 1,
        n_antenna_ul: 1,
        cell_id:      0x12,
        n_id_cell:    123,
        band:         {{ cell.nr_band }},
        dl_nr_arfcn:  {{ cell.dl_nr_arfcn }},
        bandwidth:    {{ cell.bandwidth }},
{%- if cell.rf_mode == 'tdd' %}
        subcarrier_spacing: 30,
        ssb_pos_bitmap: "10000000",
{%- else %}
        subcarrier_spacing: 15,
        ssb_pos_bitmap: "1000",
{%- endif %}
        root_sequence_index: 123,
        inactivity_timer: 10000,
        tdd_ul_dl_config: {
          pattern1: {
            period: 5,
            dl_slots: 7,
            dl_symbols: 6,
            ul_slots: 2,
            ul_symbols: 4,
          },
        },
        prach: {
{%- if cell.rf_mode == 'tdd' %}
          ra_response_window: 20,
{%- else %}
          ra_response_window: 10,
{%- endif %}
        },
        pdcch: {
          uss: {
            n_candidates: [ 0, 2, 1, 0, 0 ],
            dci_0_1_and_1_1: true,
          },
        },
        drb_config: [
            {
              qci: 9,
              pdcp_config: {
                discardTimer: 0,
                pdcp_SN_SizeUL: 18,
                pdcp_SN_SizeDL: 18,
                statusReportRequired: true,
                outOfOrderDelivery: false,
              },
              rlc_config: {
                ul_am: {
                  sn_FieldLength: 18,
                  t_PollRetransmit: 80,
                  pollPDU: 64,
                  pollByte: 125,
                  maxRetxThreshold: 4,
                },
                dl_am: {
                  sn_FieldLength: 18,
                  t_Reassembly: 80,
                  t_StatusProhibit: 10,
                },
              },
              logical_channel_config: {
                priority: 13,
                prioritisedBitRate: 8,
                bucketSizeDuration: 100,
                logicalChannelGroup: 7,
              },
            },
          ]
      },
{%- endfor %}
  ],
  nr_cell_default: {
    ssb_period: 20,
    plmn_list: [
      {
        plmn: "00101",
        tac: 100,
        reserved: false,
      },
    ],
    si_window_length: 40,
    cell_barred: false,
    intra_freq_reselection: true,
    q_rx_lev_min: -70,
    q_qual_min: -20,
    sr_period: 40,
    dmrs_type_a_pos: 2,
    prach: {
      prach_config_index: 160,
      msg1_subcarrier_spacing: 30,
      msg1_fdm: 1,
      msg1_frequency_start: -1,
      zero_correlation_zone_config: 15,
      preamble_received_target_power: -110,
      preamble_trans_max: 7,
      power_ramping_step: 4,
      restricted_set_config: "unrestricted_set",
      ra_contention_resolution_timer: 64,
      ssb_per_prach_occasion: 1,
      cb_preambles_per_ssb: 8,
    },
    pdcch: {
      search_space0_index: 0,
      dedicated_coreset: {
        rb_start: -1,
        l_crb: -1,
        duration: 0,
        precoder_granularity: "sameAsREG_bundle",
      },
      css: {
        n_candidates: [ 0, 0, 4, 0, 0 ],
      },
      rar_al_index: 2,
      si_al_index: 2,
      al_index: 1,
    },
    pdsch: {
      mapping_type: "typeA",
      dmrs_add_pos: 1,
      dmrs_type: 1,
      dmrs_max_len: 1,
      mcs_table: "qam256",
      rar_mcs: 2,
      si_mcs: 6,
    },
    csi_rs: {
      resource_auto: {
        nzp_csi_rs_period: 80,
      },
      csi_report_config: [
        {
          report_config_type: "periodic",
          period: 80,
        },
      ],
    },
    pucch: {
      dpc_snr_target: 25,
      pucch_group_hopping: "neither",
      hopping_id: -1,
      p0_nominal: -90,
        pucch1: {
          n_cs: 3,
          n_occ: 3,
          freq_hopping: true,
        },
        pucch2: {
          n_symb: 2,
          n_prb: 1,
          freq_hopping: true,
          simultaneous_harq_ack_csi: false,
          max_code_rate: 0.25,
        },
    },
    pusch: {
      dpc_snr_target: 25,
      mapping_type: "typeA",
      n_symb: 14,
      dmrs_add_pos: 1,
      dmrs_type: 1,
      dmrs_max_len: 1,
      tf_precoding: false,
      mcs_table: "qam256",
      mcs_table_tp: "qam256",
      ldpc_max_its: 5,
      p0_nominal_with_grant: -84,
      msg3_mcs: 4,
      msg3_delta_power: 0,
      beta_offset_ack_index: 9,
    },
    mac_config: {
      msg3_max_harq_tx: 5,
      ul_max_harq_tx: 5,
      dl_max_harq_tx: 5,
      ul_max_consecutive_retx: 30,
      dl_max_consecutive_retx: 30,
      periodic_bsr_timer: 20,
      retx_bsr_timer: 320,
      periodic_phr_timer: 500,
      prohibit_phr_timer: 200,
      phr_tx_power_factor_change: "dB3",
      sr_prohibit_timer: 0,
      sr_trans_max: 64,
    },
    cipher_algo_pref: [],
    integ_algo_pref: [2, 1],
  },
}
