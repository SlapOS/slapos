{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "LTE Cell",
  "type": "object",
  "required": [
    "cell_type",
    "rf_mode",
    "pci",
    "cell_id",
    "bandwidth",
    "ru",
    "dl_earfcn",
    "tac"
  ],
  "allOf": [{ "$ref": "../../cell/common.json" }],
  "properties": {
    "cell_type": {
      "$ref": "../../cell/common.json#/$defs/cell_type",
      "const": "lte"
    },
    "tdd_ul_dl_config": {
      "title": "TDD Configuration",
      "type": "string",
      "enum": [
        "[Configuration 0] DSUUUDSUUU (5ms,  2DL/6UL), S-slot=10DL:2GP:2UL, maximum uplink",
        "[Configuration 1] DSUUDDSUUD (5ms,  4DL/4UL), S-slot=10DL:2GP:2UL, balanced downlink and uplink",
        "[Configuration 2] DSUDDDSUDD (5ms,  6DL/2UL), S-slot=10DL:2GP:2UL, default",
        "[Configuration 3] DSUUUDDDDD (10ms, 6DL/3UL), S-slot=10DL:2GP:2UL",
        "[Configuration 4] DSUUDDDDDD (10ms, 7DL/2UL), S-slot=10DL:2GP:2UL, high downlink",
        "[Configuration 5] DSUDDDDDDD (10ms, 8DL/1UL), S-slot=10DL:2GP:2UL, maximum downlink",
        "[Configuration 6] DSUUUDSUUD (5ms,  3DL/5UL), S-slot=10DL:2GP:2UL, high uplink"
      ],
      "default": "[Configuration 2] DSUDDDSUDD (5ms,  6DL/2UL), S-slot=10DL:2GP:2UL, default",
      "options": {
        "dependencies": {
          "rf_mode": "tdd"
        }
      }
    },
    "bandwidth": {
      "$ref": "../../cell/common.json#/$defs/bandwidth",
      "enum": [
        1.4,
        3,
        5,
        10,
        15,
        20
      ]
    },
    "dl_earfcn": {
      "title": "DL EARFCN",
      "description": "Downlink E-UTRA Absolute Radio Frequency Channel Number of the cell",
      "type": "integer"
    },
    "ul_earfcn": {
      "title": "UL EARFCN",
      "description": "Uplink E-UTRA Absolute Radio Frequency Channel Number of the cell. By default a frequency corresponding to dl_earfcn is chosen.",
      "type": "integer"
    },
    "tac": {
      "title": "Tracking Area Code",
      "description": "Tracking Area Code (range: 0x0001 to 0xffff except 0xfffe, format: integer or hexadecimal starting by 0x)",
      "type": "string"
    },
    "root_sequence_index": {
      "$ref": "../../cell/common.json#/$defs/root_sequence_index",
      "description": "Range: 0 to 837. Set the PRACH root sequence index (SIB2.rootSequenceIndex field). It must be different for each neighbour cell operating on the same frequency and sharing the same PRACH configuration.",
      "default": 204
    },
    "cipher_algo_pref": {
      "title": "Preferred Cipher algorithms",
      "decription": "Set the preferred algorithms for RRC and User Plane encryption in decreasing order of preference. If none match the UE capabilities, then EEA0 (no encryption) is selected.",
      "type": "array",
      "items": {
        "title": "Algorithm preference",
        "type": "string",
        "enum": [
          "EEA1 (Snow 3G)",
          "EEA2 (128 bit AES)",
          "EEA3 (ZUC)"
        ]
      },
      "default": []
    },
    "integ_algo_pref": {
      "title": "Preferred Integrity algorithms",
      "decription": " Set the preferred algorithms for RRC integrity check in decreasing order of preference. If none match the UE capabilities, then EIA0 (no integrity check) is selected. (Default: EEA2, EEA1)",
      "type": "array",
      "items": {
        "title": "Algorithm preference",
        "type": "string",
        "enum": [
          "EEA1 (Snow 3G)",
          "EEA2 (128 bit AES)",
          "EEA3 (ZUC)"
        ]
      },
      "default": ["EEA2 (128 bit AES)","EEA1 (Snow 3G)"]
    },
    "tti_bundling": {
      "title": "TTI Bundling",
      "description": "TTI Bundling",
      "type": "object",
      "properties": {
        "snr_threshold": {
          "title": "SNR Threshold",
          "description": "Range: -6 to 40 dB. UL SNR value in dB (measured on PUSCH and SRS) below which TTI bundling will be configured.",
          "type": "number"
        },
        "phr_threshold": {
          "title": "PHR Threshold",
          "description": "Range: 0 to 40 dB. UL PHR value (in dB for 1 RB allocation) below which TTI bundling will be configured. This condition is ORâ€™ed with the snr_threshold trigger.",
          "default": 0,
          "type": "number"
        },
        "hysteresis": {
          "title": "Hysteresis",
          "description": "Range 1 to 20 dB. Hysteresis value to add to snr_threshold and phr_threshold when checking conditions to deconfigure TTI bundling. TTI bundling is deconfigured when SNR is above snr_threshold + hysteresis AND PHR is above phr_threshold + hysteresis.",
          "default": 6,
          "type": "number"
        },
        "mcs_max": {
          "title": "MCS MAX",
          "description": "Range 0 to 10. Maximum MCS of PUSCH allocation with TTI bundling.",
          "default": 10,
          "type": "number"
        },
        "l_crb_max": {
          "title": "Max PUSCH RB",
          "description": "Optional integer. Range 1 to UL BW. Maximum number of RBs of PUSCH allocation with TTI bundling. If the UE does not support noResourceRestrictionForTTIBundling-r12, PUSCH allocation is limited to 3 RBs anyway.",
          "default": 6,
          "type": "number"
        },
        "e_harq_pattern": {
          "title": "Enable e-HARQ-Pattern-r12",
          "description": "FDD only. If set and if the UE supports e-HARQ-Pattern-FDD-r12, eNB configures the e-HARQ-Pattern-r12 parameter along with TTI bundling.",
          "default": false,
          "type": "boolean"
        }
      },
      "default": {}
    }
  }
}
