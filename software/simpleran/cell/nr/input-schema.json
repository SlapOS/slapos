{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "NR Cell",
  "type": "object",
  "required": [
    "cell_type",
    "rf_mode",
    "pci",
    "cell_id",
    "bandwidth",
    "ru",
    "dl_nr_arfcn",
    "nr_band"
  ],
  "properties": {
    "$ref": "../../cell/common.json#/properties",
    "cell_type": {
      "$ref": "#/properties/cell_type",
      "const": "nr"
    },
    "tdd_ul_dl_config3": {
      "title": "TDD Configuration 2",
      "description": "TDD Configuration 2",
      "type": "string",
      "oneOf": [
        {
          "const": "1",
          "title": "Test 1"
        },
        {
          "const": "2",
          "title": "Test 2"
        }
      ]
    },
    "tdd_ul_dl_config": {
      "title": "TDD Configuration",
      "type": "string",
      "enum": [
        "DDDDDDDSUU - 5ms 2UL 7DL 4/6 (default)",
        "DDDSUUDDDD - 5ms 2UL 7DL 4/6",
        "DDDSUUUUDD - 5ms 4UL 5DL 4/6 (balanced downlink and uplink)",
        "DDDSUUUUUU - 5ms 6UL 3DL 10/2 (high uplink)",
        "DDSUUUUUUU - 5ms 7UL 2DL 4/6 (EXPERIMENTAL very high uplink)",
        "DSUUUUUUUU - 5ms 8UL 1DL 2/10 (EXPERIMENTAL maximum uplink)",
        "DDDSU - 2.5ms 1UL 3DL 2/10 (reduced latency)"
      ],
      "default": "DDDDDDDSUU - 5ms 2UL 7DL 4/6 (default)",
      "options": {
        "dependencies": {
          "rf_mode": "tdd"
        }
      }
    },
    "bandwidth": {
      "$ref": "#/properties/bandwidth"
    },
    "dl_nr_arfcn": {
      "title": "DL NR ARFCN",
      "description": "Downlink NR Absolute Radio Frequency Channel Number of the cell",
      "type": "integer"
    },
    "nr_band": {
      "title": "NR band",
      "description": "NR band number",
      "type": "integer"
    },
    "ul_nr_arfcn": {
      "title": "UL NR ARFCN",
      "description": "Uplink NR Absolute Radio Frequency Channel Number of the cell. By default a frequency corresponding to dl_nr_arfcn and nr_band is chosen.",
      "type": "integer"
    },
    "ssb_nr_arfcn": {
      "title": "SSB NR ARFCN",
      "description": "SSB NR Absolute Radio Frequency Channel Number of the cell. If set it must be an element of global synchronization raster and be at offset from center DL frequency that aligns with SSB subcarrier spacing of selected band. By default a valid frequency nearby dl_nr_arfcn is chosen.",
      "type": "integer"
    },
    "ssb_pos_bitmap": {
      "title": "SSB Position Bitmap",
      "description": "SSB position bitmap in bits (4, 8 or 64 bits depending on the DL frequency).",
      "type": "string",
      "default": "10000000"
    },
    "root_sequence_index": {
      "$ref": "#/properties/root_sequence_index",
      "description": "Range 0 to 837 for PRACH format up to 3, 0 to 137 otherwise. prach-RootSequenceIndex parameter. It must be different for each neighbour cell operating on the same frequency and sharing the same PRACH configuration.",
      "default": 1
    },
    "cipher_algo_pref": {
      "title": "Preferred Cipher algorithms",
      "decription": "Set the preferred algorithms for RRC and User Plane encryption in decreasing order of preference. If none match the UE capabilities, then NEA0 (no encryption) is selected",
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "NEA1 (Snow 3G)",
          "NEA2 (128 bit AES)",
          "NEA3 (ZUC)"
        ]
      },
      "default": []
    },
    "integ_algo_pref": {
      "title": "Preferred Integrity algorithms",
      "decription": "Set the preferred algorithms for RRC integrity (and optionally User Plane integrity) check in decreasing order of preference. If none match the UE capabilities, then NIA0 (no integrity check) is selected. (Default: NEA2, NEA1)",
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "NEA1 (Snow 3G)",
          "NEA2 (128 bit AES)",
          "NEA3 (ZUC)"
        ]
      },
      "default": ["NEA2 (128 bit AES)","NEA1 (Snow 3G)"]
    }
  },
  "$defs": {
    "tac": {
      "title": "Tracking Area Code",
      "description": "Integer (range 0 to 16777215)",
      "type": "number"
    }
  }
}
