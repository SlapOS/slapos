{{ autogenerated }}
# see:
# https://gitlab.com/gitlab-org/gitlab-ce/blob/master/config/database.yml.postgresql
# https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/files/gitlab-cookbooks/gitlab/templates/default/database.yml.erb
# (last updated for 8.7.9+ce.1-0-gf589ad7)

{% from 'macrolib.cfg.in' import cfg  with context %}

production:
  adapter: postgresql
  encoding: unicode
  {# collation is mainly for mysql
  collation: <%= @db_collation %>
  #}
  database: {{ pgsql.dbname }}
  pool: {{ cfg('db_pool') }}
  {# XXX is it ok to use superuser, even if the whole database is only for gitlab? #}
  username: '{{ pgsql.superuser }}'
  {# we have no password - access is via unix socket #}
  password:
  host:     '{{ pgsql["pgdata-directory"] }}'
  port:
  socket:
  {# not needed for unix socket
  sslmode: <%= single_quote(@db_sslmode) %>
  sslrootcert: <%= single_quote(@db_sslrootcert) || single_quote(@db_sslca) %>
  sslca: <%= single_quote(@db_sslca) || single_quote(@db_sslrootcert) %>
  #}
