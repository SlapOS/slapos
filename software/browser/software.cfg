[buildout]

extends =
  ../../stack/slapos.cfg
  ../../component/xorg/buildout.cfg
  ../../component/firefox/buildout.cfg
  ../../component/logrotate/buildout.cfg
  ../../component/gzip/buildout.cfg
  ../../component/dcron/buildout.cfg

parts =
  slapos-cookbook
  instance
  logrotate
  gzip
  dcron
  dcron-output
  # browser direct parts
  xserver
  xwd
  firefox

# Download instance.cfg.in (buildout profile used to deployment of instance),
# replace all ${foo:bar} parameters by real values, and change $${foo:bar} to
# ${foo:bar}
[instance]
recipe = slapos.recipe.template:jinja2
template = ${:_profile_base_location_}/instance.cfg.tpl
rendered = ${buildout:directory}/instance.cfg
# MD5 checksum can be skipped for development (easier to develop), but must be filled for production
# md5sum = TODO
mode = 0644
extensions = jinja2.ext.do
context =
  section buildout buildout
  section firefox firefox
  section xserver xserver
  section xwd xwd
  section dash dash
  section dcron dcron
  section gzip gzip
  section logrotate logrotate
