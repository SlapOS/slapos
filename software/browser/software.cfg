[buildout]

extends =
  ../../stack/slapos.cfg
  ../../component/xorg/buildout.cfg
  ../../component/firefox/buildout.cfg
  ../../component/logrotate/buildout.cfg
  ../../component/gzip/buildout.cfg
  ../../component/dcron/buildout.cfg
  ../../component/dash/buildout.cfg

parts =
  slapos-cookbook
  browse-url.jinja2.sh
  gzip
  instance-jinja2

[template-file]
recipe  = slapos.recipe.build:download
url     = ${:_profile_base_location_}/${:_buildout_section_name_}
destination = ${buildout:directory}/${:_buildout_section_name_}

[browse-url.jinja2.sh]
<= template-file
md5sum = db014a7d8fd8c1d4b4dea42b2a34ae07

[instance-jinja2]
recipe = slapos.recipe.template:jinja2
template = ${:_profile_base_location_}/instance.jinja2.cfg
rendered = ${buildout:directory}/instance.cfg
# MD5 checksum can be skipped for development (easier to develop), but must be filled for production
md5sum = 033f2eb8e4279593df96ee8bf4c33203
mode = 0644
extensions = jinja2.ext.do
context =
  section buildout buildout
  key firefox firefox:location
  key xserver xserver:location
  key xwd xwd:location
  key dash dash:location
  key dcron dcron:location
  key gzip gzip:location
  key logrotate logrotate:location