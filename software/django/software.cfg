[buildout]
extends =
  ../../stack/slapos.cfg
  ../../component/macros/virtual-env.cfg

parts =
  instance
  slapos-cookbook

allow-picked-versions = true

[python]
part = python3

[django-env]
<= virtual-env-base
location = ${buildout:directory}/activate
eggs = Django

[instance]
recipe = slapos.recipe.template
output = ${buildout:directory}/instance.cfg
inline =
  [buildout]
  parts = publish

  eggs-directory = ${buildout:eggs-directory}
  develop-eggs-directory = ${buildout:develop-eggs-directory}

  [publish]
  recipe = slapos.cookbook:publish
  activate-script = ${django-env:location}

[versions]
typing-extensions = 4.1.1:whl
