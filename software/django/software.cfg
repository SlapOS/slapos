[buildout]
extends =
    ../../stack/slapos.cfg
    ../../component/macros.cfg

parts =
  instance
  slapos-cookbook

# Choose the python's version
[python]
part = python3

# Install Django eggs
[django]
recipe = zc.recipe.egg
eggs = Django

# Create virtual env
[django-env]
<= macro-virtual-env
location = ${buildout:directory}/activate
eggs = ${django:eggs}

[instance]
recipe = slapos.recipe.template
output = ${buildout:directory}/instance.cfg
inline =
  [buildout]
  parts = publish

  eggs-directory = ${buildout:eggs-directory}
  develop-eggs-directory = ${buildout:develop-eggs-directory}

  [publish]
  recipe = slapos.cookbook:publish
  activate-script = ${django-env:location}

[versions]
Django = 3.2.12
sqlparse = 0.4.2
asgiref = 3.5.0
typing-extensions = 4.1.1:whl
