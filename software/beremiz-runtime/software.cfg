[buildout]
extends =
  buildout.hash.cfg
  ../../component/git/buildout.cfg
  ../../component/matiec/buildout.cfg
  ../../stack/monitor/buildout.cfg
  ../../stack/slapos.cfg

parts = 
  beremiz-source
  slapos-cookbook
  instance-profile
  python-interpreter
  matiec

[beremiz-source]
recipe = slapos.recipe.build:gitclone
repository = https://github.com/beremiz/beremiz.git
revision = c9b7db300a25806ccaa9d5a844d1e0fd281acb4b
git-executable = ${git:location}/bin/git

[beremiz]
recipe  = zc.recipe.egg:develop
egg     = beremiz
setup   = ${beremiz-source:location}

[Twisted]
recipe  = zc.recipe.egg:custom
egg     =  Twisted
setup-eggs =
    six
    pathlib
    incremental

[python-interpreter]
recipe = zc.recipe.egg
interpreter = pythonwitheggs
eggs = click
       prompt_toolkit
       pygments
       bitarray
       future
       six
       Pyro
       zeroconf-py2compat
       pathlib
       Nevow
       msgpack
       autobahn
       numpy
       lxml
       cycler
       opcua
       ${beremiz:egg}
       ${Twisted:egg}

[instance-profile]
recipe = slapos.recipe.template:jinja2
url = ${:_profile_base_location_}/${:filename}
output = ${buildout:directory}/instance.cfg
extensions = jinja2.ext.do
context =
  section buildout  buildout
  raw template_monitor ${monitor2-template:output}
# md5sum is fetched from buildout.hash.cfg and can be recalculated automatically by
# calling update-hash

[versions]
Twisted = 20.3.0
attrs = 19.2.0
Automat = 0.3.0
zope.interface = 4.4.2
Nevow = 0.14.5
PyHamcrest = 2.0.2
Pygments = 2.9.0
Pyro = 3.16
bitarray = 2.1.3
constantly = 15.1.0
future = 0.18.2
hyperlink = 21.0.0
incremental = 21.3.0
pathlib = 1.0.1
prompt-toolkit = 3.0.19
zeroconf-py2compat = 0.19.10

# Required by:
# Automat==0.3.0
characteristic = 14.3.0

# Required by:
# zeroconf-py2compat==0.19.10
ifcfg = 0.21

# Required by:
# hyperlink==21.0.0
typing = 3.10.0.0

autobahn = 19.11.2
txaio = 18.8.1
idna = 2.10

numpy = 1.16.5
cycler = 0.10.0
click = 7.1.2
lxml  = 4.5.0
opcua = 0.98.13
trollius = 2.2.1
futures = 3.3.0

