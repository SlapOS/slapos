[buildout]
extends =
  buildout.hash.cfg
  ../../stack/slapos.cfg
  ../../component/qjs-wrapper/buildout.cfg

parts =
    instance-profile
    common
    cli
    demo
    manual-flight
    pubsub
    slapos-cookbook

[download-file-base]
recipe = slapos.recipe.build:download
url = ${:_profile_base_location_}/${:filename}
destination = ${buildout:directory}/${:filename}

[instance-profile]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/${:filename}
output = ${buildout:directory}/template.cfg

[main]
<= download-file-base

[pubsub]
<= download-file-base
