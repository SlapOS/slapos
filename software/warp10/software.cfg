[buildout]
extends =
  ./buildout.hash.cfg
  ../../stack/slapos.cfg
  ../../stack/monitor/buildout.cfg
  ../../stack/haproxy/default-backend.cfg
  ../../component/java/buildout.cfg

parts =
  slapos-cookbook
  instance.cfg
  install-warp10.sh

[version]
warp10 = 3.1.2

[java]
<= java-re-8

[warp10-download]
recipe = slapos.recipe.build:download
url = https://github.com/senx/warp10-platform/releases/download/${version:warp10}/warp10-${version:warp10}.tar.gz
md5sum = 5e16392e5718b88002251cebf13c8cc4
destination = ${buildout:parts-directory}/warp10-${version:warp10}.tar.gz

[instance.cfg]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/${:filename}
output = ${buildout:directory}/${:_buildout_section_name_}

[copy-warp10]
recipe = slapos.recipe.build:download
url = ${:_profile_base_location_}/${:filename}
destination = ${buildout:parts-directory}/${:_buildout_section_name_}

[install-warp10.sh]
<= copy-warp10

