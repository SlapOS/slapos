[buildout]
extends =
  ./buildout.hash.cfg
  ../../stack/slapos.cfg
  ../../stack/monitor/buildout.cfg
  ../../stack/haproxy/default-backend.cfg
  ../../component/java/buildout.cfg

parts =
  slapos-cookbook
  instance.cfg
  install-warp10.sh

[java]
<= java-re-temurin-11

[warp10-download]
recipe = slapos.recipe.build:download
url = https://github.com/senx/warp10-platform/releases/download/${:version}/warp10-${:version}.tar.gz
version = 3.2.0
md5sum = 1f0fa3502ea5636ec0c9001e2676c035
destination = ${buildout:parts-directory}/warp10-${:version}.tar.gz

[instance.cfg]
recipe = slapos.recipe.template
url = ${:_profile_base_location_}/${:filename}
output = ${buildout:directory}/${:_buildout_section_name_}

[copy-warp10]
recipe = slapos.recipe.build:download
url = ${:_profile_base_location_}/${:filename}
destination = ${buildout:parts-directory}/${:_buildout_section_name_}

[install-warp10.sh]
<= copy-warp10

