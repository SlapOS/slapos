[buildout]
parts =
  rootdirectory
  instance

eggs-directory = ${buildout:eggs-directory}
develop-eggs-directory = ${buildout:develop-eggs-directory}

[instance]
recipe = ${instance-recipe:egg}:${instance-recipe:module}
agent_binary = ${buildout:directory}/bin/agent
report_start = ${buildout:directory}/bin/report_start
report_stop = ${buildout:directory}/bin/report_stop
dcrond_binary = ${dcron:location}/sbin/crond
python_binary = ${python2.7:location}/bin/python
pidfile = $${rootdirectory:run}/agent.pid
log_directory = $${rootdirectory:agentlog}
state_file = $${rootdirectory:srv}/state.cfg

[rootdirectory]
recipe = slapos.cookbook:mkdirectory
etc = $${buildout:directory}/etc
run = $${rootdirectory:etc}/run
var = $${buildout:directory}/var
log = $${rootdirectory:var}/log
agentlog = $${rootdirectory:log}/agent
srv = $${buildout:directory}/srv
bin = $${buildout:directory}/bin
