{#- provides information to instance-slave-base.cfg.in #}
{%- set SLAVE_NAME = slave_information['slave_reference'] %}

{#- This is THE place to take decisions and actions

This profile needs to expose slave to the list of published slaves
This profile needs to expose slave to be published
This profile needs to provide entry for request to other places
This profile needs to extend part list correctly

#}
[slave-list]
list +=
  {{ '${' + SLAVE_NAME + ':request-information}'  }}

[{{ SLAVE_NAME }}]
{#- this is section for publishment #}
recipe = plone.recipe.command
command = echo OK
{%- for k, v in slave_information.items() %}
{{ k }} = {{ dumps(v) }}
{%- endfor %}
request-information = {{ dumps(slave_information) }}
