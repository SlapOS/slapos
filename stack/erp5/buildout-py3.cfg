[buildout]
extends =
# Required by PyStemmer 2.0.1
  ../../component/cython/buildout.cfg
  buildout.cfg

parts +=
# Development eggs
  slapos-cookbook-develop
  slapos-cookbook
  PyStemmer
  cython

parts -=
# XXX: The following parts have no support for Python 3. Ignore for now.
  rdiff-backup
  ocropy
  hookbox
  scipy
  scikit-learn
  scikit-image
  PyWavelets
  jupyter-notebook-initialized-scripts
  jupyter
  matplotlibrc
  pandas
  h5py
  custom-js

find-links +=
  http://www.nexedi.org/static/packages/source/
  http://www.nexedi.org/static/packages/source/hexagonit.recipe.download/
  http://www.nexedi.org/static/packages/source/slapos.buildout/

[python]
part = python3

[slapos.cookbook-repository]
develop = true
branch = zope4py3

[PyStemmer]
recipe = zc.recipe.egg:custom
egg = PyStemmer
setup-eggs =
    ${cython:egg}
    setuptools-dso

[h5py]
recipe =
[matplotlibrc]
recipe =
[matplotlib]
recipe =
[jupyter]
recipe =
[rdiff-backup]
recipe =
[rdiff-backup-build]
recipe =
[ocropy]
recipe =
[hookbox]
recipe =
[scipy]
recipe =
[scikit-learn]
recipe =
[PyWavelets]
recipe =
[scikit-image]
recipe =
[statsmodels]
recipe =
[seaborn]
recipe =
[pandas]
recipe =

[python-ldap-python]
# No patch needed anymore
patches =
include-dirs -=
  ${cyrus-sasl:location}/include/sasl
include-dirs +=
  ${cyrus-sasl:location}/include

[eggs]
eggs -=
## Python 2 only
  ZServer
  urlnorm
  Products.DCWorkflowGraph
  uuid
# Probably not worth the effort (used for backuping multi-ZODB instances and has
# been discouraged for many years over NEO)
  Products.TIDStorage
## Python < 3.5
  typing
# TODO: ZServer only but must be migrated to zope4py3
  Products.LongRequestLogger
## tracemalloc is now part of Python 3.4!
  pytracemalloc
## XXX: The following eggs have no support for Python 3. Ignore for now.
  ocropy
  ${ocropy:egg}
  PyXML
  threadframe
  suds
  xupdate_processor
  SOAPpy
  fpconst
  ${scipy:egg}
  ${scikit-learn:egg}
  ${scikit-image:egg}
  ${matplotlib:egg}
  ${pandas:egg}
  h5py
  ${h5py:egg}
  ${statsmodels:egg}
  astor
  jupyter
# explicit eggs to generate scripts from them
  jupyter_client
  jupyter_console
  jupyter_core
  nbconvert
  nbformat
  notebook
# additional eggs
  requests
  astor
  ${matplotlib:egg}
  ${scipy:egg}
  ${pandas:egg}
  ${scikit-learn:egg}
  ${seaborn:egg}
  ${statsmodels:egg}
  patsy
  ${h5py:egg}
  openpyxl
  sympy
  xlrd
# additional eggs for jupyterlab
  jupyterlab
  jupyterlab-launcher
  pytesseract

[pylint]
patches=

[versions]
# zc.recipe.egg 2.0.7 (in versions.cfg) requires zc.buildout>=2.12.0, so let's
# revert to the version contained in stack/slapos.cfg
zc.recipe.egg = 2.0.3+slapos003

pyasn1-modules = 0.2.8
pyasn1 = 0.4.8

## Version up to support Python 3.7
numpy = 1.16.6
pandas = 0.24.2
google-api-python-client = 2.41.0
# google-api-python-client version bump
uritemplate = 3.0.1
google-api-core = 2.7.1
google-auth-httplib2 = 0.1.0
google-auth = 2.6.0
httplib2 = 0.15.0
protobuf = 3.19.4
googleapis-common-protos = 1.55.0
cachetools = 5.0.0
## XXX: No version of scipy is both compatible with Python 2.7 and 3.7
scipy = 1.5.2
#scikit-learn = 0.20.4
statsmodels = 0.10.2
pyzmq = 19.0.2
PyStemmer = 2.0.1
python-ldap = 3.1.0
ipython = 7.31.1
cryptography = 3.2.1
Products.CMFCore = 2.4.8
Products.MailHost = 4.0
Products.GenericSetup = 2.0
mccabe = 0.6
isort = 4.2.5
astroid = 2.4.0
wrapt = 1.11
typed-ast = 1.4.0
Products.SiteErrorLog = 5.4
Products.PythonScripts = 4.12
Products.DCWorkflow = 2.4.0+SlapOSPatched001
xml_marshaller = 1.0.2
mysqlclient = 2.0.1
Products.ZSQLMethods = 3.0.10
Products.ExternalMethod = 4.4
Products.StandardCacheManagers = 4.0.3
Products.MimetypesRegistry = 2.1.8
Products.CMFDefault = 2.2.4
Products.PluggableAuthService = 2.3
Products.PluginRegistry = 1.6
polib = 1.1.0
# testrunner
pexpect = 4.8.0
matplotlib-inline = 0.1.3
backcall = 0.2.0
prompt-toolkit = 3.0.27
jedi = 0.16.0
parso = 0.5.2
zope.fixers = 1.1.2
